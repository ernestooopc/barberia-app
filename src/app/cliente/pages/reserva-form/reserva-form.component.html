<div class="container py-4">
  <div class="card mx-auto shadow-sm" style="max-width: 500px;">
    <div class="card-body">
      <h4 class="card-title text-center mb-4">Nueva Reserva</h4>

      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label for="fechaHora" class="form-label">Fecha y Hora</label>
          <input
            id="fechaHora"
            type="datetime-local"
            class="form-control"
            formControlName="fechaHora"
          />
          <div
            *ngIf="form.get('fechaHora')?.invalid && form.get('fechaHora')?.touched"
            class="invalid-feedback d-block"
          >
            La fecha y hora son obligatorias
          </div>
        </div>

        <div class="mb-3">
          <label for="tipoCorteId" class="form-label">Tipo de Corte</label>
          <select
            id="tipoCorteId"
            class="form-select"
            formControlName="tipoCorteId"
          >
            <option value="" disabled>-- Selecciona un servicio --</option>
            <option *ngFor="let t of tipos" [value]="t.id">
              {{ t.nombre }}
            </option>
          </select>
          <div
            *ngIf="form.get('tipoCorteId')?.invalid && form.get('tipoCorteId')?.touched"
            class="invalid-feedback d-block"
          >
            Debes escoger un servicio
          </div>
        </div>

        <div *ngIf="selectedTipo" class="border rounded p-3 mb-3 bg-light">
          <p><strong>Precio:</strong> S/{{ selectedTipo.precio | number:'1.0-2' }}</p>
          <p><strong>Descripci√≥n:</strong> {{ selectedTipo.descripcion }}</p>
          <p><strong>Estado:</strong> <span class="badge bg-warning text-dark">PENDIENTE</span></p>
        </div>

        <button
          type="submit"
          class="btn btn-primary w-100"
          [disabled]="form.invalid"
        >
          Reservar
        </button>

        <div *ngIf="error" class="alert alert-danger mt-3 text-center">
          {{ error }}
        </div>
      </form>
    </div>
  </div>
</div>
